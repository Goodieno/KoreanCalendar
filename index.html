<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ë‹¹ì§„ ì›”ê°„ ìº˜ë¦°ë”</title>

<style>
body {
    margin: 0;
    font-family: Arial, "Noto Sans KR", sans-serif;
    background: #0f172a;
    color: white;
}

/* Layout */
.container {
    display: grid;
    grid-template-columns: 3fr 1fr;
    height: 100vh;
}

/* Calendar */
.calendar-section {
    padding: 20px;
}

.header {
    text-align: center;
    font-size: 36px;
    margin-bottom: 20px;
}

.weekdays, .days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
}

.weekdays div {
    text-align: center;
    font-weight: bold;
    padding: 10px 0;
    border-bottom: 1px solid #334155;
}

.days div {
    min-height: 110px;
    border: 1px solid #334155;
    padding: 6px;
    box-sizing: border-box;
    position: relative;
}

/* Colors */
.sun { color: #ff6b6b; }
.sat { color: #38bdf8; }

.today {
    background: #1e293b;
    border: 2px solid #38bdf8;
}

/* Holiday */
.holiday-text {
    font-size: 11px;
    color: #ff6b6b;
    margin-top: 4px;
}

/* Multi-day shading */
.holiday-block {
    background: rgba(255, 77, 77, 0.15);
}

.holiday-start {
    border-left: 4px solid #ff4d4d;
}

.holiday-end {
    border-right: 4px solid #ff4d4d;
}

/* Info Panel */
.info-panel {
    border-left: 2px solid #334155;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.card {
    background: #020617;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
}

.time {
    font-size: 42px;
    font-weight: bold;
}

.temp {
    font-size: 32px;
}

.aqi {
    font-size: 24px;
}

.location {
    font-size: 15px;
    color: #cbd5f5;
}
</style>
</head>

<body>

<div class="container">

<!-- Calendar -->
<div class="calendar-section">

<div class="header" id="monthTitle"></div>

<div class="weekdays">
    <div class="sun">ì¼</div>
    <div>ì›”</div>
    <div>í™”</div>
    <div>ìˆ˜</div>
    <div>ëª©</div>
    <div>ê¸ˆ</div>
    <div class="sat">í† </div>
</div>

<div class="days" id="calendarDays"></div>

</div>

<!-- Info -->
<div class="info-panel">

<div class="card">
    <div class="time" id="clock"></div>
    <div id="dateText"></div>
</div>

<div class="card">
    <div>ğŸŒ¤ï¸ ë‚ ì”¨</div>
    <div class="temp" id="weatherTemp">--Â°C</div>
    <div id="weatherDesc">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
</div>

<div class="card">
    <div>ğŸ˜· ë¯¸ì„¸ë¨¼ì§€</div>
    <div class="aqi" id="airQuality">--</div>
</div>

<div class="card location">
    ì¶©ì²­ë‚¨ë„ ë‹¹ì§„ì‹œ
</div>

</div>

</div>

<script>

/* =====================
   Korean Holidays (2026)
===================== */

const holidays = {
    "1-1": "ì‹ ì •",

    "2-16": "ì„¤ë‚  ì—°íœ´",
    "2-17": "ì„¤ë‚ ",
    "2-18": "ì„¤ë‚  ì—°íœ´",

    "3-1": "ì‚¼ì¼ì ˆ",
    "3-2": "ëŒ€ì²´íœ´ì¼",

    "5-5": "ì–´ë¦°ì´ë‚ ",
    "5-24": "ë¶€ì²˜ë‹˜ì˜¤ì‹ ë‚ ",
    "5-25": "ëŒ€ì²´íœ´ì¼",

    "6-6": "í˜„ì¶©ì¼",

    "7-17": "ì œí—Œì ˆ",

    "8-15": "ê´‘ë³µì ˆ",
    "8-17": "ëŒ€ì²´íœ´ì¼",

    "9-24": "ì¶”ì„ ì—°íœ´",
    "9-25": "ì¶”ì„",
    "9-26": "ì¶”ì„ ì—°íœ´",

    "10-3": "ê°œì²œì ˆ",
    "10-5": "ëŒ€ì²´íœ´ì¼",
    "10-9": "í•œê¸€ë‚ ",

    "12-25": "ì„±íƒ„ì ˆ"
};


/* =====================
   Calendar
===================== */

function generateCalendar() {

    const now = new Date();
    const year = now.getFullYear();
    const month = now.getMonth();

    const firstDay = new Date(year, month, 1).getDay();
    const lastDate = new Date(year, month + 1, 0).getDate();

    const container = document.getElementById("calendarDays");
    const title = document.getElementById("monthTitle");

    title.innerText = `${year}ë…„ ${month + 1}ì›”`;

    container.innerHTML = "";

    const holidayList = [];

    // Empty cells
    for (let i = 0; i < firstDay; i++) {
        container.appendChild(document.createElement("div"));
    }

    // Collect holidays first
    for (let d = 1; d <= lastDate; d++) {
        const key = `${month + 1}-${d}`;
        if (holidays[key]) {
            holidayList.push(d);
        }
    }

    for (let d = 1; d <= lastDate; d++) {

        const cell = document.createElement("div");
        const date = new Date(year, month, d);
        const key = `${month + 1}-${d}`;

        /* Today */
        if (d === now.getDate() && month === now.getMonth()) {
            cell.classList.add("today");
        }

        /* Weekend */
        if (date.getDay() === 0) cell.classList.add("sun");
        if (date.getDay() === 6) cell.classList.add("sat");

        cell.innerHTML = `<strong>${d}</strong>`;

        /* Holiday */
        if (holidays[key]) {

            const prev = holidayList.includes(d - 1);
            const next = holidayList.includes(d + 1);

            cell.classList.add("holiday-block");

            if (!prev) cell.classList.add("holiday-start");
            if (!next) cell.classList.add("holiday-end");

            cell.innerHTML += `
                <div class="holiday-text">
                    ${holidays[key]}
                </div>
            `;
        }

        container.appendChild(cell);
    }
}


/* =====================
   Clock
===================== */

function updateClock() {

    const now = new Date();

    const h = String(now.getHours()).padStart(2, "0");
    const m = String(now.getMinutes()).padStart(2, "0");
    const s = String(now.getSeconds()).padStart(2, "0");

    document.getElementById("clock").innerText =
        `${h}:${m}:${s}`;

    document.getElementById("dateText").innerText =
        now.toLocaleDateString("ko-KR", {
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric"
        });
}


/* =====================
   Weather & Air
===================== */

const WEATHER_API_KEY = "fa9fe37b9be14839fe6774643939e974";
const CITY = "Dangjin-si";

async function loadWeather() {

    try {

        const res = await fetch(
            `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&units=metric&appid=${WEATHER_API_KEY}&lang=kr`
        );

        const data = await res.json();

        document.getElementById("weatherTemp").innerText =
            `${Math.round(data.main.temp)}Â°C`;

        document.getElementById("weatherDesc").innerText =
            data.weather[0].description;

    } catch {
        console.log("Weather error");
    }
}


async function loadAirQuality() {

    try {

        const geo = await fetch(
            `https://api.openweathermap.org/geo/1.0/direct?q=${CITY}&limit=1&appid=${WEATHER_API_KEY}`
        );

        const g = await geo.json();

        const lat = g[0].lat;
        const lon = g[0].lon;

        const res = await fetch(
            `https://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}`
        );

        const data = await res.json();

        const aqi = data.list[0].main.aqi;

        const map = {
            1: "ì¢‹ìŒ ğŸ˜Š",
            2: "ë³´í†µ ğŸ™‚",
            3: "ë‚˜ì¨ ğŸ˜",
            4: "ë§¤ìš° ë‚˜ì¨ ğŸ˜·",
            5: "ìœ„í—˜ â˜ ï¸"
        };

        document.getElementById("airQuality").innerText =
            map[aqi];

    } catch {
        console.log("AQI error");
    }
}


/* =====================
   Init
===================== */

generateCalendar();
updateClock();
loadWeather();
loadAirQuality();

setInterval(updateClock, 1000);
setInterval(generateCalendar, 3600000);
setInterval(() => {
    loadWeather();
    loadAirQuality();
}, 600000);

</script>

</body>
</html>
